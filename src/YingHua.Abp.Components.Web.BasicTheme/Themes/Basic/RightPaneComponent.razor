@using Syncfusion.Blazor.Navigations;
@using YingHua.Abp.Components.Web.BasicTheme.Themes.Basic
@using YingHua.Abp.SyncfusionUI


@inject NavigationManager UriHelper;
@inject SampleService SampleService;

<CascadingValue Value="@this">
    <div class="@rootClass" id='right-pane'>
        <div class='sb-desktop-wrapper'>
            @* 面包屑 *@
            <BreadCrumbComponent @ref="BreadCrumbRef"></BreadCrumbComponent>
            @* 内容 *@
            <div id="sb-content" class='sb-content-section'>
             @ChildContent
            </div>
            @* 页脚 *@
            <FooterComponent @ref="FooterRef"/>
        </div>
    </div>
</CascadingValue>

@code {
    private int tabSelectedItem { get; set; }
    private string rootClass = "sb-right-pane e-view " + SampleUtils.RIGHT_PANE;
 
    [CascadingParameter]
    protected MainLayout Layout { get; set; }

    /// <summary>
    /// Footer reference for outside usage.
    /// </summary>
    public FooterComponent FooterRef { get; set; }

    /// <summary>
    /// BreadCrumb reference for outside usage.
    /// </summary>
    public BreadCrumbComponent BreadCrumbRef { get; set; }

  

    /// <summary>
    /// Child content of RightPane component.
    /// </summary>
    [Parameter]
    public RenderFragment ChildContent { get; set; }

 

 

    /// <summary>
    /// Re-render the source code tab with first indexed tab item.
    /// </summary>
    public void TabSelectedItemChange()
    {
        this.tabSelectedItem = 0;
        StateHasChanged();
    }

 
 

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        // Expand or collapse right pane based on the condition.
        if (this.Layout.LeftPaneRef == null || this.Layout.LeftPaneRef.IsExpanded())
        {
            this.rootClass = SampleUtils.RemoveClass(rootClass, SampleUtils.RIGHT_PANE_EXPAND);
            this.rootClass = SampleUtils.AddClass(rootClass, SampleUtils.RIGHT_PANE_COLLAPSE);
        }
        else
        {
            this.rootClass = SampleUtils.RemoveClass(rootClass, SampleUtils.RIGHT_PANE_COLLAPSE);
            this.rootClass = SampleUtils.AddClass(rootClass, SampleUtils.RIGHT_PANE_EXPAND);
        }
    }
}
